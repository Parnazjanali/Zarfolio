/* frontend/src/pages/EtiketPage.css */

/* :root variables removed, using global variables from index.css */

/* --- استایل‌های اصلی چیدمان صفحه اتیکت --- */
.etiket-page-container {
  padding: 1.25rem 1.5625rem; /* 20px 25px */
  box-sizing: border-box;
  direction: rtl;
  font-family: var(--font-family); /* Global font */
  background-color: var(--primary-bg-color); /* Page background */
  color: var(--primary-text-color); /* Default text color for page */
  min-height: 100vh; /* Ensure page takes full height */
}

.etiket-page-container .page-header {
  margin-bottom: 1.5625rem; /* 25px */
  text-align: right;
  border-bottom: 2px solid var(--border-color);
  padding-bottom: 0.9375rem; /* 15px */
}

.page-header h1 {
  font-size: 1.8rem;
  margin: 0 0 0.3125rem 0; /* 5px */
  color: var(--primary-text-color);
  display: flex;
  align-items: center;
  gap: 0.75rem; /* 12px */
}
.page-header h1 svg { /* Styling icon in header */
  color: var(--accent-color);
}

.page-header p {
  font-size: 1rem;
  color: var(--secondary-text-color);
  margin: 0;
}

.card-style { /* This class is used for sections on this page */
  background-color: var(--secondary-bg-color); /* Cards on secondary bg */
  border: 1px solid var(--border-color);
  border-radius: var(--card-radius, 0.625rem); /* 10px, fallback if --card-radius not global */
  box-shadow: var(--card-shadow, 0 4px 12px rgba(0,0,0,0.06)); /* Fallback if --card-shadow not global */
  padding: 1.5625rem; /* 25px */
  box-sizing: border-box;
}

.etiket-layout {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5625rem; /* 25px */
}

/* چیدمان برای دسکتاپ */
@media (min-width: 1024px) {
  .etiket-layout {
    grid-template-columns: minmax(450px, 1.7fr) minmax(320px, 1fr);
    align-items: flex-start;
  }

  .etiket-preview-appearance-section {
    position: sticky;
    top: 1.25rem; /* 20px */
    max-height: calc(100vh - 2.5rem); /* 40px */
    overflow-y: auto;
    align-self: flex-start;
  }
}

.etiket-input-section {
  display: flex;
  flex-direction: column;
  gap: 1.5625rem; /* 25px */
}

.main-actions {
  display: flex;
  gap: 0.9375rem; /* 15px */
  margin-top: 0.9375rem; /* 15px */
  border-top: 1px solid var(--border-color);
  padding-top: 1.5625rem; /* 25px */
}

/* .action-button styles should be inherited from global index.css */
/* If specific layout adjustments are needed for buttons on this page: */
.main-actions .action-button {
  /* Example: flex-grow: 1; if they should fill space */
}


.sticky-content-wrapper {
  position: sticky;
  top: 0;
  z-index: 10; /* Ensure this is below modals if they overlap */
}

.preview-wrapper .preview-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.9375rem; /* 15px */
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 0.625rem; /* 10px */
}

.preview-wrapper h4 {
  margin: 0;
  font-size: 1.15rem;
  color: var(--primary-text-color);
  display: flex;
  align-items: center;
  gap: 0.5rem; /* 8px */
}
.preview-wrapper h4 svg { /* Icon in preview header */
  color: var(--accent-color);
}

/* Settings button in preview header */
.preview-action-button.settings-btn-header {
  /* This button might need specific styling or use a global small/icon button style */
  background-color: transparent;
  color: var(--secondary-text-color);
  border: 1px solid var(--border-color);
  padding: 0.3rem 0.5rem;
  border-radius: 0.25rem;
}
.preview-action-button.settings-btn-header:hover {
  background-color: var(--secondary-bg-color);
  color: var(--accent-color);
  border-color: var(--accent-color);
}
body.dark-mode .preview-action-button.settings-btn-header {
  color: var(--secondary-text-color);
  border-color: var(--border-color);
}
body.dark-mode .preview-action-button.settings-btn-header:hover {
  background-color: var(--border-color); /* Darker hover for dark mode */
  color: var(--accent-color);
  border-color: var(--accent-color);
}


/* --- استایل‌های حیاتی برای حالت تمام صفحه --- */
/* Fullscreen styles mostly manipulate layout, colors are inherited or from LabelPreview.css */

/*
  نکته: این کلاس باید توسط JavaScript به تگ <body> اضافه شود تا سایدبار اصلی برنامه مخفی گردد.
  مثال در EtiketPage.jsx: document.body.classList.add('etiket-fullscreen-mode');
*/
body.etiket-fullscreen-mode .sidebar { /* فرض بر اینکه کامپوننت سایدبار شما کلاس .sidebar را دارد */
  display: none !important;
  visibility: hidden !important;
}
/* اگر هدر کلی در برنامه دارید که باید مخفی شود */
body.etiket-fullscreen-mode .app-header {
  display: none !important;
  visibility: hidden !important;
}

/*
  این کلاس به کانتینر اصلی خود صفحه EtiketPage اضافه می‌شود
  تا بخش‌های داخلی صفحه (فرم‌ها، هدر صفحه و...) مخفی شوند.
*/
.etiket-page-container.fullscreen-preview-active .page-header,
.etiket-page-container.fullscreen-preview-active .etiket-input-section,
.etiket-page-container.fullscreen-preview-active .accordion-container,
.etiket-page-container.fullscreen-preview-active .print-queue-area,
.etiket-page-container.fullscreen-preview-active .appearance-settings-wrapper .accordion-main-title {
  display: none !important;
  visibility: hidden !important;
}

/*
  در حالت تمام‌صفحه، ساختار grid صفحه را غیرفعال کرده و به ستون پیش‌نمایش
  اجازه می‌دهیم کل فضا را اشغال کند.
*/
.etiket-page-container.fullscreen-preview-active .etiket-layout {
  display: block;
}
.etiket-page-container.fullscreen-preview-active .etiket-preview-appearance-section,
.etiket-page-container.fullscreen-preview-active .sticky-content-wrapper {
  position: static !important; /* حذف حالت چسبنده */
  max-height: none !important;
  overflow: visible !important;
  padding: 0 !important;
  margin: 0 !important;
  width: 100% !important;
  height: 100% !important;
}

/*
  کانتینر اصلی پیش‌نمایش (.preview-wrapper) در حالت تمام‌صفحه باید کل صفحه نمایش را بپوشاند.
  این کار باعث می‌شود محیط مدرج (پس‌زمینه) کل صفحه را بگیرد و دکمه‌ها در گوشه صفحه قرار گیرند.
*/
.preview-wrapper.fullscreen-active {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  width: 100vw !important;
  height: 100vh !important;
  z-index: 2000 !important; /* بالاترین لایه برای قرارگیری روی همه چیز */
  margin: 0 !important;
  padding: 0 !important; /* پدینگ داخلی توسط خود LabelPreview مدیریت می‌شود */
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  background-color: transparent !important;
  display: block !important;
}


/* --- استایل‌های مودال و چاپ --- */
/* Local Modal for "تنظیمات کلی اتیکت" */
.modal-backdrop { /* This is a local modal backdrop, not generic */
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--fsm-backdrop-bg); /* Using FieldSelectorMenu backdrop as it's similar */
  z-index: 1000; /* Below settings modal content */
}
.settings-modal-content { /* This is the local modal for EtiketPage settings */
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 1001;
  width: 90%;
  max-width: 800px; /* Can be a variable */
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  background-color: var(--primary-bg-color); /* Use primary bg for modal content */
  border: 1px solid var(--border-color);
  border-radius: var(--card-radius, 0.5rem);
  box-shadow: var(--card-shadow, 0 4px 12px rgba(0,0,0,0.1));
}
.settings-modal-content .modal-header { /* Overriding generic if needed, or use specific class */
  /* display, justify-content, align-items already set */
  padding-bottom: 0.9375rem; /* 15px */
  border-bottom: 1px solid var(--border-color);
  margin-bottom: 1.25rem; /* 20px */
}
.settings-modal-content .modal-header h3 {
  margin: 0;
  color: var(--primary-text-color);
  font-size: 1.25em; /* Consistent with other modal headers */
}
.settings-modal-content .close-modal-btn { /* Specific close for this modal */
  background: transparent;
  border: none;
  font-size: 1.8rem;
  line-height: 1;
  color: var(--secondary-text-color);
  cursor: pointer;
}
.settings-modal-content .close-modal-btn:hover {
  color: var(--primary-text-color);
}
.settings-modal-content .modal-body {
  overflow-y: auto;
  padding: 0 1.25rem 1.25rem 1.25rem; /* Add padding around body */
}
.settings-modal-content .modal-footer {
  padding: 0.9375rem 1.25rem; /* 15px 20px */
  border-top: 1px solid var(--border-color);
  text-align: left; /* For LTR button alignment */
}
.settings-modal-content .modal-footer .action-button {
  /* Should use global .action-button styles */
}


@media print {
  body * {
    visibility: hidden;
  }
  #print-area, #print-area * {
    visibility: visible;
  }
  #print-area {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
  }
  .action-button, .page-header, .etiket-input-section, .etiket-preview-appearance-section {
    display: none !important;
  }
}